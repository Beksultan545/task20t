name: üöÄ Deploy to Render

on:
  push:
    branches:
      - main  # main —Ç–∞—Ä–º–∞“ì—ã–Ω–∞ push –∂–∞—Å–∞–ª“ì–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç—Ç—ã –∂“±–º—ã—Å —ñ—Å—Ç–µ–π–¥—ñ

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: üì• Checkout Repository
        uses: actions/checkout@v3

      # –ï–≥–µ—Ä DockerHub “õ–æ–ª–¥–∞–Ω—Å–∞“£ ‚Äî –º—ã–Ω–∞ –±–ª–æ–∫—Ç—ã “õ–∞–ª–¥—ã—Ä
      - name: üîë Login to DockerHub
        uses: docker/login-action@v3
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}

      - name: üê≥ Build Docker Image
        run: docker build -t myapp .

      # Render API –∞—Ä“õ—ã–ª—ã –¥–µ–ø–ª–æ–π –∂–∞—Å–∞—É
      - name: üöÄ Deploy to Render
        uses: renderinc/render-action@v1
        with:
          api-key: ${{ secrets.RENDER_API_KEY }}
          service-id: ${{ secrets.RENDER_SERVICE_ID }}
